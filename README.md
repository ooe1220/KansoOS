
## 前書き

C言語を用いて32ビットのOSを開発しています。

一般的なOSは、呼び出しの流れが複雑で、マクロや抽象層が多く、ソース間の関係も入り組んでいます。そのため、どのコードがどこから呼ばれているのか追いにくく、全体の動作を理解するのが難しくなっています。

筆者はLinux0.01のカーネルすら読破出来ませんでした。

そこで本OSでは、なるべく**構造を簡素に保ったOS**を作り、誰でもOSの仕組みを直感的に理解できるようにすることを目指しています。

OS自作の参考書では、多くの場合BIOSの内部動作には触れられません。
ブートローダは`0x7C00`から読み込まれ、ある程度の初期化はBIOS側で済んでおり、`INT`でBIOSの機能も使えます。

しかし、計算機の原理を深く理解するためにOSを自作する場合、低レイヤがBIOSによって隠されていると、もやもやが残ってしまいます。

そこで今回は、BIOSも自作することにしました。
機能は必要最小限に絞り、読みやすさを重視しています。

BIOSがない場合、字体すらも自分で用意する必要があります。VGAのレジスタも正確に設定しなければなりません。
このBIOSを読むことで、OSを起動する前に最低限どのような処理が行われているかを理解できるようにしています。


## ビルド手順
`./build.sh`を実行するとビルドからQEMUでの実行まで一気に行えます。
gcc,qemu,nasmを事前に導入して置いて下さい。
ubuntu,fedoraでは正しく実行できることを確認済みです。

※実機から起動する場合
　ATAドライバしかないため、USBやCD等から起動すると実機の場合はディスクを伴う命令が実行出来ません。
　最近のOSはUEFIから起動している為、実機から起動する場合はBIOSの設定を開いて`レガシーBIOS`へ変更してから起動して下さい。
　実機の場合は自作BIOSは使えません。
